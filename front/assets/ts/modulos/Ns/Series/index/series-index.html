<div class="scroll-auto">
<div ng-class="{'nsj-loading-page' : ns_srs_lst_cntrllr.busy }" class='ns_series nsj-layout '>
    <div class="nsj-aside-list height-full col-md-4"
        ng-class="{ 'hidden-sm hidden-xs' : (('ns_series_show'| isStateEq) || ('ns_series_edit'| isStateEq) || ('ns_series_new'| isStateEq ))}">
        <div class='row height-full'>

            <div class="panel panel-default height-full">
                <nsj-headline class="nsj-headline" headline-title="Séries"
                    ng-class="{ 'hidden-sm hidden-xs' : (('ns_series_show'| isStateEq) || ('ns_series_edit'| isStateEq) || ('ns_series_new'| isStateEq ))}">

                    <nsj-button tem-permissao="ns_series_create" color="warning" icon="fa fa-plus" size="xs" class="hidden-xs"
                        ui-sref="ns_series_new({})">
                        Criar
                    </nsj-button>

                    <nsj-button tem-permissao="ns_series_create" class="nsj-button series-lg-button" color="warning" format="fixed circle" 
                        icon="fa fa-plus" size="lg" class="hidden-sm hidden-md hidden-lg"
                        ui-sref="ns_series_new({})">
                        <span class="hidden-xs">Criar</span>
                    </nsj-button>

                </nsj-headline>

                <nsj-toolbar ng-on-change_toolbar="ns_srs_lst_cntrllr.search($event.detail)" search="true"
                    refresh="true" holder="Busca" model-search="{{ns_srs_lst_cntrllr.service.filter}}"
                    select="{{ns_srs_lst_cntrllr.selectPage && ns_srs_lst_cntrllr.selected.length === ns_srs_lst_cntrllr.entities.length && !ns_srs_lst_cntrllr.selectAll && !ns_srs_lst_cntrllr.service.loadParams.finished}}"
                    select-all="{{ns_srs_lst_cntrllr.selectAll}}" item-in-page="{{ns_srs_lst_cntrllr.entities.length}}"
                    item-all="{{ns_srs_lst_cntrllr.entities[0].full_count}}">
                    <nsj-filters slot="filters">
                        <nsj-filter-seletor options="{{ns_srs_lst_cntrllr.$rootScope.OPTIONS_NsSeries}} " ng-if="false"
                            type="seletor" max-occurs="{{ns_srs_lst_cntrllr.$rootScope.MAXOCCURS_NsSeries}} "
                            input="{{ns_srs_lst_cntrllr.$rootScope.SELECTS_NsSeries}} " text-disabled="Selecionar..."
                            model="{{ns_srs_lst_cntrllr.filters}} "></nsj-filter-seletor>
                    </nsj-filters>

                </nsj-toolbar>
                <div class="panel-body body-list">
                    <div class="list-group" id="ns_series_list" infinite-scroll='ns_srs_lst_cntrllr.nextPage()'
                        infinite-scroll-disabled='ns_srs_lst_cntrllr.isBusy()' infinite-scroll-distance='1'> <a href
                            ui-sref='ns_series_show({serie : entity.serie})' class="list-group-item"
                            ng-repeat="entity in ns_srs_lst_cntrllr.entities" ui-sref-active="active">

                            <h4 class="list-group-item-heading">

                                {{ entity.estabelecimento.nomefantasia }}
                            </h4>
                            <p class="list-group-item-text"><strong>Número:</strong>
                                {{ entity.numero }}
                            </p>
                            <p class="list-group-item-text"><strong>Início:</strong>
                                {{ entity.inicio }}
                            </p>
                            <p class="list-group-item-text"><strong>Fim:</strong>
                                {{ entity.fim }}
                            </p>
                            <p class="list-group-item-text"><strong>Próximo:</strong>
                                {{ entity.proximo }}
                            </p>
                        </a>
                        <p class="list-group-item"
                            ng-if="!ns_srs_lst_cntrllr.finished && (ns_srs_lst_cntrllr.service.to_load <= 0)">
                            <a href="" ng-click="ns_srs_lst_cntrllr.loadMore()">Ver mais...</a>
                        </p>
                        <p class="text-center article-loading height-full"
                            ng-class="{'onloading' : ns_srs_lst_cntrllr.isBusy() }" ng-if="ns_srs_lst_cntrllr.isBusy()">
                        </p>
                        <p class="text-center nfound"
                            ng-if="ns_srs_lst_cntrllr.entities.length == 0 && !ns_srs_lst_cntrllr.isBusy()">Nenhum dado
                            encontrado</p>
                    </div>

                </div>
                <!--/panel-body-->
            </div>
            <!--/panel-->
        </div>
    </div>

    <div class='empty-page col-md-8 article-area height-full padding-h-clear' ui-view>
        <div class="bt-new-article new-article text-center height-full empty-page-nodisplay">
            <span class="icon-page"><i class="fas fa-table fa-fw"></i></span>
            <h3>Visualize ou Crie uma Série</h3>
            <p>Selecione uma Série no painel ao lado para ver as suas informações. </p>
            <a tem-permissao="ns_series_create" class="btn btn-sm btn-warning" ui-sref="ns_series_new({})">
                <i class="fas fa-plus"></i> Criar
            </a>

        </div>
    </div>
    <div class="content-loading" ng-if="ns_srs_lst_cntrllr.busy">
        <div class="center-loading text-center">
            <div class="onloading"></div>
            Carregando...
        </div>
    </div>
</div>
</div>