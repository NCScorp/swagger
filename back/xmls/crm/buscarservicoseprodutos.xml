<?xml version="1.0" encoding="UTF-8"?>
<nsjusecase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../vendor/nasajon/mdatransformer/schemas/nsjusecase.xsd" name="buscarservicoseprodutos" label="buscarservicoseprodutos" project="crm" >
    <!-- XML exclusivo para buscas dos serviços(crm.composicoes) e produtos(estoque.familias) -->
    <entity schema="crm" table="vw_buscarservicoseprodutos">
        <fieldmodel name="id" datatype="guid" isid="true" column="id"/>
        <fieldmodel name="tenant" datatype="integer" column="tenant"/>
        <fieldmodel name="codigo" datatype="string" column="codigo"/>
        <fieldmodel name="nome" datatype="string" column="nome"/>
        <fieldmodel name="coringa" datatype="boolean" column="coringa"/>
        <fieldmodel name="tipo" datatype="integer" column="tipo">
            <options>{"1":"Serviço", "2":"Produto"}</options>
        </fieldmodel>
    </entity>
    <constructors>
      <constructoritem required="true">tenant</constructoritem>
    </constructors>
    <viewbrowser layout="table" paginate="true" target="window">
        <fieldsbrowser>
            <fieldbrowser entitylink="id" isid="true" visible="false"/>
            <fieldbrowser entitylink="codigo" cansearch="true" />
            <fieldbrowser entitylink="nome" cansearch="true" />
            <fieldbrowser entitylink="coringa" cansearch="true" />
            <fieldbrowser entitylink="tipo" />
        </fieldsbrowser>
        <filters>
            <fieldsfilters>
                <!-- Filtro por tipo -->
                <fieldfilter entitylink="tipo" maxoccurs="unbounded" visible="false">
                    <conditions>
                        <condition type="eq"></condition>
                    </conditions>
                </fieldfilter>
            </fieldsfilters>
        </filters>
    </viewbrowser>
    <forms>
    </forms>
</nsjusecase>