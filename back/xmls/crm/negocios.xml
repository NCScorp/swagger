<?xml version="1.0" encoding="UTF-8" ?>
<nsjusecase xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../vendor/nasajon/mdatransformer/schemas/nsjusecase.xsd" name="negocios" label="negocios" project="crm">
  <entity schema="crm" table="negocios">
    <fieldmodel name="documento" datatype="guid" isid="true" column="documento" />
    <fieldmodel name="tenant" datatype="integer" column="tenant" />
    <fieldmodel name="id_grupoempresarial" datatype="guid" column="id_grupoempresarial"/>
    <fieldmodel name="operacao" datatype="guid" column="id_operacao" useCaseLink="crm\negociosoperacoes" entityJoinType="left"/>
    <fieldmodel name="numero" datatype="string" column="numero" />
    <fieldmodel name="estabelecimento" datatype="guid" column="id_estabelecimento" useCaseLink="ns\estabelecimentos" entityJoinType="left"/>
    <fieldmodel name="cliente" datatype="guid" column="id_cliente" useCaseLink="ns\clientes" entityJoinType="left" />
    <fieldmodel name="contato" datatype="guid" column="id_contato" useCaseLink="ns\contatos" entityJoinType="left" />
    <fieldmodel name="codigodepromocao" datatype="guid" column="id_codigodepromocao" useCaseLink="crm\promocoesleads" entityJoinType="left" />
    <fieldmodel name="midiadeorigem" datatype="guid" column="id_midiadeorigem" useCaseLink="crm\midias" entityJoinType="left" />
    <fieldmodel name="cliente_codigo" datatype="string" column="cliente_codigo" />
    <fieldmodel name="cliente_companhia" datatype="string" column="cliente_companhia" />
    <fieldmodel name="cliente_nomefantasia" datatype="string" column="cliente_nomefantasia" />
    <fieldmodel name="cliente_qualificacao" datatype="string" column="cliente_qualificacao" >
        <options>{"1": "CPF", "cnpj": "0"}</options>
    </fieldmodel>
    <fieldmodel name="cliente_documento" datatype="string" column="cliente_documento" />
    <fieldmodel name="cliente_email" datatype="string" column="cliente_email" />
    <fieldmodel name="cliente_site" datatype="string" column="cliente_site" />
    <fieldmodel name="clientecaptador" datatype="guid" column="cliente_captador" useCaseLink="ns\vendedores" entityJoinType="left" />
    <fieldmodel name="clientesegmentodeatuacao" datatype="guid" column="cliente_segmentodeatuacao" useCaseLink="crm\segmentosatuacao" entityJoinType="left" />
    <fieldmodel name="clientereceitaanual" datatype="moeda" column="cliente_receitaanual">
        <options>{"5000000":"Até R$ 5 milhões", "30000000":"De R$ 5 milhões até 30 milhões", "100000000":"De R$ 30 milhões até 100 milhões", "300000000":"De R$ 100 milhões até 300 milhões", "500000000":"De R$ 300 milhões até 500 milhões", "1000000000":"De R$ 500 milhões até 1 bilhão", "2000000000": "Mais de R$ 1 bilhão"}</options>
    </fieldmodel>
    <fieldmodel name="uf" datatype="string" column="uf" useCaseLink="ns\estados" entityJoinType="left" />
    <fieldmodel name="segmentodeatuacao" datatype="guid" column="id_segmentodeatuacao" useCaseLink="crm\segmentosatuacao" entityJoinType="left" />
    <fieldmodel name="created_at" datatype="datetime" column="created_at" />
    <fieldmodel name="created_by" datatype="json" column="created_by" />
    <fieldmodel name="updated_at" datatype="datetime" column="updated_at" />
    <fieldmodel name="updated_by" datatype="json" column="updated_by" />
    <fieldmodel name="situacaoprenegocio" datatype="guid" column="situacaoprenegocio" useCaseLink="crm\situacoesprenegocios" entityJoinType="left" />
    <fieldmodel name="prenegocio" datatype="boolean" column="prenegocio" />
    <fieldmodel name="ehcliente" datatype="boolean" column="ehcliente">
        <options>{"0": "Não", "1": "Sim"}</options>
    </fieldmodel>
    <fieldmodel name="observacao" datatype="string" column="observacao" />
    <fieldmodel name="clientemunicipioibge" datatype="string" column="cliente_municipioibge" useCaseLink="ns\municipios" entityJoinType="left" />
    <fieldmodel name="datahoraultimofollow" datatype="datetime" column="datahoraultimofollow" />
    <fieldmodel name="negocioscontatos" datatype="objectlist" column="negocioscontatos" useCaseLink="crm\negocioscontatos" entityJoinType="left" />
    <fieldmodel name="negocioscontatos" datatype="objectlist" column="negocioscontatos" useCaseLink="crm\negocioscontatos" entityJoinType="left" />
    <fieldmodel name="mensagemqualificacao_pn" datatype="string" column="mensagemqualificacao_pn" />
    <fieldmodel name="dataqualificacao_pn" datatype="date" column="dataqualificacao_pn" />
    <fieldmodel name="tipoqualificacaopn" datatype="integer" column="tipoqualificacao_pn">
        <options>{"0":"Sem qualificação", "1":"Qualificado", "2":"Desqualificado"}</options>
    </fieldmodel>
    <fieldmodel name="periodoqualificacao_pn" datatype="integer" column="periodoqualificacao_pn">
        <options>{"0":"Qualquer horário", "1":"Manhã", "2":"Tarde"}</options>
    </fieldmodel>
    <fieldmodel name="vendedor" datatype="guid" column="id_vendedor" useCaseLink="ns\vendedores" entityJoinType="left"/>
    <fieldmodel name="motivodesqualificacao_pn" datatype="guid" column="id_motivodesqualificacao_pn" useCaseLink="crm\motivosdesqualificacoesprenegocios" entityJoinType="left"/>
    <fieldmodel name="observacaodesqualificacao_pn" datatype="string" column="observacaodesqualificacao_pn" />
    <fieldmodel name="created_at_qualificacao_pn" datatype="datetime" column="created_at_qualificacao_pn" />
    <fieldmodel name="created_by_qualificacao_pn" datatype="json" column="created_by_qualificacao_pn" />
    <fieldmodel name="tipodeacionamento" datatype="guid" column="id_tipoacionamento" useCaseLink="crm\tiposacionamentos" entityJoinType="left"/>
    <!-- Não mapeados -->
    <fieldmodel name="tiponegocio" datatype="integer" notMapped="true">
        <options>{"0":"Pre-negocio","2":"Negocio"}</options>
    </fieldmodel>
    <fieldmodel name="buscoucliente" datatype="boolean" notMapped="true" />
    <fieldmodel name="created_at_formatado" datatype="string" notMapped="true" />
    <fieldmodel name="datahoraultimofollow_formatado" datatype="string" notMapped="true" />
    <fieldmodel name="listadavezvendedor" datatype="guid" notMapped="true" />
    <fieldmodel name="listadavezvendedoritem" datatype="guid" notMapped="true" />
  </entity>
  <constructors>
    <constructoritem>tenant</constructoritem>
    <constructoritem>id_grupoempresarial</constructoritem>
  </constructors>
  <viewbrowser label="Negócios para Qualificação" layout="table" paginate="true" target="window">
    <filters>
      <fieldsfilters>
        <fieldfilter entitylink="prenegocio" maxoccurs="unbounded" visible="false">
          <conditions>
            <condition type="eq"></condition>
          </conditions>
        </fieldfilter>
        <fieldfilter entitylink="tipoqualificacaopn" maxoccurs="unbounded" visible="false">
            <conditions>
                <condition type="eq"></condition>
            </conditions>
        </fieldfilter>
        <fieldfilter label="Atribuição" visible="false" entitylink="clientecaptador">
            <lookup fielddetail="'vendedor_nome': 'Atribuição'}" allowinsert="false" />
            <conditions>
                <condition type="eq" />
            </conditions>
        </fieldfilter>
        <fieldfilter label="Atribuição" visible="false" entitylink="vendedor">
            <lookup fielddetail="'vendedor_nome': 'Atribuição'}" allowinsert="false" />
            <conditions>
                <condition type="eq" />
            </conditions>
        </fieldfilter>
      </fieldsfilters>
    </filters>
    <fieldsbrowser>
      <fieldbrowser entitylink="documento" isid="true" visible="false" />
      <fieldbrowser entitylink="numero" alias="Código" visible="true"  cansearch="true"/>
      <fieldbrowser entitylink="cliente_documento" alias="CPF/CNPJ" visible="true" cansearch="true"/>
      <fieldbrowser entitylink="cliente_companhia" alias="Nome" visible="true" cansearch="true"/>
      <fieldbrowser alias="Segmento" entitylink="clientesegmentodeatuacao" visible="true" fielddetaillookup="{'descricao': 'Segmento'}"/>
      <fieldbrowser entitylink="uf" alias="UF" visible="true" cansearch="true" fielddetaillookup="{'uf':'UF'}"/>
      <fieldbrowser entitylink="clientemunicipioibge" alias="Cidade" visible="true" cansearch="true" fielddetaillookup="{'nome':'Cidade'}"/>
      <fieldbrowser entitylink="clientereceitaanual" alias="Faturamento" visible="true" />
      <fieldbrowser entitylink="clientecaptador" alias="Atribuição" visible="true" fielddetaillookup="{'vendedor_nome': 'Atribuição'}"/>
      <fieldbrowser entitylink="vendedor" alias="Atribuição" visible="false" fielddetaillookup="{'vendedor_nome': 'Atribuição'}"/>
      <fieldbrowser entitylink="created_at" visible="false"/>
      <fieldbrowser entitylink="datahoraultimofollow" visible="false"/>
      <fieldbrowser entitylink="created_at_formatado" visible="true" alias="Primeiro Contato"/>
      <fieldbrowser entitylink="datahoraultimofollow_formatado" visible="true" alias="Última atualização"/>
      <fieldbrowser entitylink="situacaoprenegocio" visible="true" alias="Situação" fielddetaillookup="{'nome': 'Situação'}" />
      <fieldbrowser entitylink="prenegocio" visible="false"/>
      <fieldbrowser entitylink="tipoqualificacaopn" visible="false"/>      
    </fieldsbrowser>
  </viewbrowser>
  <forms>
    <form name="default" label="Negocio">
      <layout>
        <headerform>
            <row>
                <cell>
                    <groupbox>
                        <caption text="Situação"/>
                        <row>
                            <cell controltype="lookup" label="Situação" entitylink="situacaoprenegocio" colspan="4" fielddetaillookup="{'nome':'Nome'}" amountfieldslookup="4" allowinsertlookup="false">
                            </cell>
                        </row>
                    </groupbox>
                </cell>
            </row>
            <row>
                <cell>
                    <groupbox>
                        <caption text="Dados da Origem"/>
                        <row>
                            <cell label="Campanha de Origem" controltype="lookup" colspan="4" entitylink="codigodepromocao" fielddetaillookup="{'nome':'Nome'}" amountfieldslookup="2">
                            </cell>
                            <cell label="Mídia de Origem" entitylink="midiadeorigem" controltype="lookup" colspan="4" fielddetaillookup="{'nome':'Nome'}" amountfieldslookup="2">
                            </cell>
                            <cell label="Tipo de Acionamento" entitylink="tipodeacionamento" controltype="lookup" colspan="4" fielddetaillookup="{'nome':'Nome'}" amountfieldslookup="2">
                            </cell>
                        </row>
                    </groupbox>
                </cell>
            </row>
            <row>
                <cell>
                    <groupbox>
                        <caption text="Dados do Destino" />
                        <row>
                            <cell controltype="lookup" label="Estabelecimento Comercial" colspan="4" entitylink="estabelecimento" fielddetaillookup="{'nomefantasia':'Nome Fantasia'}" amountfieldslookup="2">
                                <validates>
                                    <validate type="vnull" displaytext="O campo Estabelecimento Comercial não pode ser vazio."/>
                                </validates>
                            </cell>
                            <cell controltype="lookup" label="Àrea de Negócio" entitylink="operacao" colspan="4" fielddetaillookup="{'descricao':'Descrição'}" amountfieldslookup="4" allowinsertlookup="false">
                                <validates>
                                    <validate type="vnull" displaytext="O campo Área de Negócio não pode ser vazio" />
                                </validates>
                            </cell>
                            <cell controltype="lookup" visible="tipoqualificacaopn != 1" label="Atribuição" entitylink="clientecaptador" colspan="4" fielddetaillookup="{'vendedor_nome':'Razão Social'}" amountfieldslookup="4" allowinsertlookup="false">
                            </cell>
                            <cell controltype="lookup" visible="tipoqualificacaopn == 1" label="Atribuição" entitylink="vendedor" colspan="4" fielddetaillookup="{'vendedor_nome':'Razão Social'}" amountfieldslookup="4" allowinsertlookup="false">
                            </cell>
                        </row>
                    </groupbox>
                </cell>
            </row>
            <row>
                <cell>
                    <groupbox>
                        <caption text="Dados da Conta" />
                        <row>
                            <!-- Tipo de Cliente: CPF ou CNPJ -->
                            <cell controltype="textedit" label="Tipo" colspan="4" entitylink="cliente_qualificacao">
                                <validates>
                                    <validate type="vnull" displaytext="O campo Tipo não pode estar vazio"></validate>
                                    <validate type="maxlength" value="50" displaytext="O campo Tipo aceita no máximo 50 caracteres" />
                                </validates>
                            </cell>
                            <cell controltype="textedit" label="CNPJ/CPF" colspan="4" entitylink="cliente_documento">
                                <validates>
                                    <validate type="vnull" displaytext="O campo CNPJ/CPF não pode estar vazio"></validate>
                                    <validate type="maxlength" value="50" displaytext="O campo CNPJ/CPF aceita no máximo 50 caracteres" />
                                </validates>
                            </cell>
                            <cell controltype="textedit" label="Nome Fantasia" colspan="4" entitylink="cliente_nomefantasia" readonly="(!documento &amp;&amp; !buscoucliente)">
                            </cell>
                        </row>
                        <row>
                            <cell controltype="textedit" label="Razão Social" colspan="4" entitylink="cliente_companhia" readonly="(!documento &amp;&amp; !buscoucliente)">
                                <validates>
                                    <validate type="vnull" displaytext="O campo Razão Social não pode estar vazio"></validate>
                                    <validate type="maxlength" value="50" displaytext="O campo Razão Social aceita no máximo 50 caracteres" />
                                </validates>
                            </cell>
                            <cell controltype="lookup" label="UF" colspan="4" entitylink="uf" readonly="(!documento &amp;&amp; !buscoucliente)" fielddetaillookup="{'uf':'UF', 'nome':'Nome'}" amountfieldslookup="2">
                            </cell>
                            <cell controltype="lookup" label="Cidade" colspan="4" entitylink="clientemunicipioibge" readonly="(!documento &amp;&amp; !buscoucliente)" fielddetaillookup="{'nome':'Nome'}" amountfieldslookup="2">
                            </cell>
                        </row>
                        <row>
                            <cell controltype="lookup" label="Segmento" entitylink="clientesegmentodeatuacao" colspan="4" fielddetaillookup="{'descricao':'Descrição'}" amountfieldslookup="4" allowinsertlookup="false" readonly="(!documento &amp;&amp; !buscoucliente)">
                            </cell>
                            <cell controltype="money" label="Faturamento Anual" colspan="4" entitylink="clientereceitaanual" readonly="(!documento &amp;&amp; !buscoucliente)">
                            </cell>
                            <cell controltype="combobox" label="Já é cliente?" colspan="4" entitylink="ehcliente" readonly="(!documento &amp;&amp; !buscoucliente)">
                                <validates>
                                    <validate type="vnull" displaytext="O campo Já é cliente não pode estar vazio"></validate>
                                </validates>
                            </cell>
                            <!-- Sobrescrito para ficar invisível no Front-end -->
                            <cell controltype="lookup" label="Cliente" entitylink="cliente" colspan="4" fielddetaillookup="{'razaosocial':'Razão Social'}" amountfieldslookup="4" allowinsertlookup="false">
                            </cell>
                            <!-- Sobrescrito para ficar invisível no Front-end -->
                            <cell controltype="hidden" label="É pré-negócio" entitylink="prenegocio" colspan="1" >
                                <validates>
                                    <validate type="vnull" displaytext="O campo É pré-negócio não pode estar vazio"></validate>
                                </validates>
                            </cell>
                        </row>
                    </groupbox>
                </cell>
            </row>
            <row>
                <cell>
                    <groupbox>
                        <caption text="Dados de Contato" />
                        <row>
                            <cell entitylink="negocioscontatos" label="Contatos" controltype="objectlist" colspan="12"/>
                        </row>
                    </groupbox>
                </cell>
            </row>
            <row>
                <cell controltype="textarea" label="Observações" colspan="12" entitylink="observacao">
                </cell>
            </row>
        </headerform>
      </layout>
    </form>
    <form name="qualificacao" label="Qualificar negócio">
      <layout>
        <headerform>
            <!-- Mensagem para o consultor -->
            <row>
                <cell controltype="textarea" label="Mensagem para o consultor" colspan="12" entitylink="mensagemqualificacao_pn">
                </cell>
            </row>
            <!-- Data -->
            <row>
                <cell controltype="dateinput" label="Data para contato" entitylink="dataqualificacao_pn" colspan="12" >
                </cell>
            </row>
            <!-- Hora(Período) -->
            <row>
                <cell controltype="combobox" label="Preferência de horário para contato" colspan="12" entitylink="periodoqualificacao_pn">
                </cell>
            </row>
            <!-- Atribuir a -->
            <row>
                <cell controltype="lookup" label="Atribuir à" colspan="12" entitylink="vendedor" fielddetaillookup="{'vendedor_nome':'Nome'}" amountfieldslookup="2">
                </cell>

                <!-- Lista da vez vendedor -->
                <cell controltype="hidden" entitylink="listadavezvendedor" />
                <!-- Lista da vez vendedor item -->
                <cell controltype="hidden" entitylink="listadavezvendedoritem" />
            </row>
        </headerform>
      </layout>
    </form>
    <form name="desqualificacao" label="Desqualificar negócio">
      <layout>
        <headerform>
            <!-- Motivo -->
            <row>
                <cell label="Motivo" entitylink="motivodesqualificacao_pn" controltype="lookup" colspan="12" fielddetaillookup="{'codigo':'codigo','descricao':'descricao'}" amountfieldslookup="2">
                </cell>
            </row>
            <!-- Observações sobre a desqualificação -->
            <row>
                <cell controltype="textarea" label="Observações sobre a Desqualificação" colspan="12" entitylink="observacaodesqualificacao_pn">
                </cell>
            </row>
        </headerform>
      </layout>
    </form>
  </forms>
  <actions>
    <action form="default">
        <name>retrieve</name>
    </action>
    <action form="default" successMsg="O Negócio foi criado com sucesso!" failMsg="Ocorreu um erro ao criar o Negócio!">
      <name>Insert</name>
      <api>
        <name>negocioNovo_v2</name>
        <fromto valueapi="tenant" valueentity="tenant" />
        <fromto valueapi="id_grupoempresarial" valueentity="id_grupoempresarial" />
        <fromto valueapi="id_operacao" valueentity="operacao" />
        <fromto valueapi="numero" valueentity="numero" />
        <fromto valueapi="id_estabelecimento" valueentity="estabelecimento" />
        <fromto valueapi="id_cliente" valueentity="cliente" />
        <fromto valueapi="id_codigodepromocao" valueentity="codigodepromocao" />
        <fromto valueapi="id_midiadeorigem" valueentity="midiadeorigem" />
        <fromto valueapi="cliente_codigo" valueentity="cliente_codigo" />
        <fromto valueapi="cliente_companhia" valueentity="cliente_companhia" />
        <fromto valueapi="cliente_nomefantasia" valueentity="cliente_nomefantasia" />
        <fromto valueapi="cliente_qualificacao" valueentity="cliente_qualificacao" />
        <fromto valueapi="cliente_documento" valueentity="cliente_documento" />
        <fromto valueapi="cliente_email" valueentity="cliente_email" />
        <fromto valueapi="cliente_site" valueentity="cliente_site" />
        <fromto valueapi="cliente_captador" valueentity="clientecaptador" />
        <fromto valueapi="cliente_segmentodeatuacao" valueentity="clientesegmentodeatuacao" />
        <fromto valueapi="cliente_receitaanual" valueentity="clientereceitaanual" />
        <fromto valueapi="uf" valueentity="uf" />
        <fromto valueapi="id_segmentodeatuacao" valueentity="segmentodeatuacao" />
        <fromto valueapi="created_by" valueentity="logged_user" />
        <fromto valueapi="prenegocio" valueentity="prenegocio" />
        <fromto valueapi="ehcliente" valueentity="ehcliente" />
        <fromto valueapi="observacao" valueentity="observacao" />
        <fromto valueapi="cliente_municipioibge" valueentity="clientemunicipioibge" />
        <fromto valueapi="tiponegocio" valueentity="tiponegocio" />
        <fromto valueapi="negocioscontatos" valueentity="negocioscontatos" />
        <fromto valueapi="id_tipoacionamento" valueentity="tipodeacionamento" />
      </api>
    </action>
    <action form="default" successMsg="O Negócio foi editado com sucesso!" failMsg="Ocorreu um erro ao editar o Negócio!">
      <name>Update</name>
      <api>
        <name>negocioAlterar_v3</name>
        <fromto valueapi="documento" valueentity="documento" />
        <fromto valueapi="tenant" valueentity="tenant" />
        <fromto valueapi="id_grupoempresarial" valueentity="id_grupoempresarial" />
        <fromto valueapi="operacao" valueentity="operacao" />
        <fromto valueapi="numero" valueentity="numero" />
        <fromto valueapi="estabelecimento" valueentity="estabelecimento" />
        <fromto valueapi="cliente" valueentity="cliente" />
        <fromto valueapi="codigodepromocao" valueentity="codigodepromocao" />
        <fromto valueapi="midiadeorigem" valueentity="midiadeorigem" />
        <fromto valueapi="cliente_codigo" valueentity="cliente_codigo" />
        <fromto valueapi="cliente_companhia" valueentity="cliente_companhia" />
        <fromto valueapi="cliente_nomefantasia" valueentity="cliente_nomefantasia" />
        <fromto valueapi="cliente_qualificacao" valueentity="cliente_qualificacao" />
        <fromto valueapi="cliente_documento" valueentity="cliente_documento" />
        <fromto valueapi="cliente_email" valueentity="cliente_email" />
        <fromto valueapi="cliente_site" valueentity="cliente_site" />
        <fromto valueapi="cliente_captador" valueentity="clientecaptador" />
        <fromto valueapi="cliente_segmentodeatuacao" valueentity="clientesegmentodeatuacao" />
        <fromto valueapi="cliente_receitaanual" valueentity="clientereceitaanual" />
        <fromto valueapi="uf" valueentity="uf" />
        <fromto valueapi="segmentodeatuacao" valueentity="segmentodeatuacao" />
        <fromto valueapi="updated_by" valueentity="logged_user" />
        <fromto valueapi="situacaoprenegocio" valueentity="situacaoprenegocio" />
        <fromto valueapi="ehcliente" valueentity="ehcliente" />
        <fromto valueapi="observacao" valueentity="observacao" />
        <fromto valueapi="cliente_municipioibge" valueentity="clientemunicipioibge" />
        <fromto valueapi="tiponegocio" valueentity="tiponegocio" />
        <fromto valueapi="prenegocio" valueentity="prenegocio" />
        <fromto valueapi="negocioscontatos" valueentity="negocioscontatos" />
        <fromto valueapi="id_tipoacionamento" valueentity="tipodeacionamento" />
      </api>
    </action>
    <action form="default" successMsg="O Negócio foi Excluído com sucesso!" failMsg="Ocorreu um erro ao excluir o Negócio!">
      <name>Delete</name>
      <api>
        <name>negocioExcluir</name>
        <fromto valueapi="documento" valueentity="documento" />
        <fromto valueapi="tenant" valueentity="tenant" />
        <fromto valueapi="id_grupoempresarial" valueentity="id_grupoempresarial" />
        <fromto valueapi="tiponegocio" valueentity="tiponegocio" />
        <fromto valueapi="deleted_by" valueentity="logged_user" />
      </api>
    </action>
    <action form="qualificacao" successMsg="O Negócio foi qualificado com sucesso!" failMsg="Ocorreu um erro ao qualificar o Negócio!">
      <name>PreNegocioQualificar</name>
      <api>
        <name>prenegocioqualificar_v2</name>
        <fromto valueapi="documento" valueentity="documento" />
        <fromto valueapi="tenant" valueentity="tenant" />
        <fromto valueapi="id_grupoempresarial" valueentity="id_grupoempresarial" />
        <fromto valueapi="id_cliente" valueentity="cliente" />
        <fromto valueapi="id_vendedor" valueentity="vendedor" />
        <fromto valueapi="mensagemqualificacao_pn" valueentity="mensagemqualificacao_pn" />
        <fromto valueapi="dataqualificacao_pn" valueentity="dataqualificacao_pn" />
        <fromto valueapi="periodoqualificacao_pn" valueentity="periodoqualificacao_pn" />
        <fromto valueapi="created_by_qualificacao_pn" valueentity="logged_user" />
        <fromto valueapi="listadavezvendedor" valueentity="listadavezvendedor" />
        <fromto valueapi="listadavezvendedoritem" valueentity="listadavezvendedoritem" />
      </api>
    </action>
    <action form="desqualificacao" successMsg="O Negócio foi desqualificado com sucesso!" failMsg="Ocorreu um erro ao desqualificar o Negócio!">
      <name>PreNegocioDesqualificar</name>
      <api>
        <name>prenegociodesqualificar</name>
        <fromto valueapi="documento" valueentity="documento" />
        <fromto valueapi="tenant" valueentity="tenant" />
        <fromto valueapi="id_grupoempresarial" valueentity="id_grupoempresarial" />
        <fromto valueapi="id_motivodesqualificacao_pn" valueentity="motivodesqualificacao_pn" />
        <fromto valueapi="observacaodesqualificacao_pn" valueentity="observacaodesqualificacao_pn" />
        <fromto valueapi="created_by_qualificacao_pn" valueentity="logged_user" />
      </api>
    </action>
  </actions>
</nsjusecase>